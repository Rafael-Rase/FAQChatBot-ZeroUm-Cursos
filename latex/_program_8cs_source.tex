\doxysection{Program.\+cs}
\hypertarget{_program_8cs_source}{}\label{_program_8cs_source}\index{FAQChatBot/Program.cs@{FAQChatBot/Program.cs}}
\mbox{\hyperlink{_program_8cs}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00001}00001\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_f_a_q_chat_bot_1_1_models}{FAQChatBot.Models}};}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00002}00002\ \textcolor{keyword}{using\ }Microsoft.EntityFrameworkCore;}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00003}00003\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespace_f_a_q_chat_bot_1_1_services}{FAQChatBot.Services}};}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00004}00004\ }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00005}\mbox{\hyperlink{_program_8cs_a2f78352277081c620fd4cf92a5ce15e5}{00005}}\ var\ \mbox{\hyperlink{_program_8cs_a2f78352277081c620fd4cf92a5ce15e5}{builder}}\ =\ WebApplication.CreateBuilder(args);}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00006}00006\ }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00007}00007\ \textcolor{comment}{//permite\ conexão externa}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00008}\mbox{\hyperlink{_program_8cs_a47c35286113561a422a4d59e326a0864}{00008}}\ \mbox{\hyperlink{_program_8cs_a2f78352277081c620fd4cf92a5ce15e5}{builder}}.WebHost.UseUrls(\textcolor{stringliteral}{"{}https://localhost:7260"{}},\ \textcolor{stringliteral}{"{}http://0.0.0.0:7260"{}});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00010}00010\ }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00011}00011\ \textcolor{comment}{//\ Registrar\ serviços}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00012}\mbox{\hyperlink{_program_8cs_af8107f2f8ff8e8de22a684c8c8ad3e99}{00012}}\ \mbox{\hyperlink{_program_8cs_a2f78352277081c620fd4cf92a5ce15e5}{builder}}.Services.AddControllersWithViews();}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00013}\mbox{\hyperlink{_program_8cs_a176f0e64b6b073dfa480817e2803ad4d}{00013}}\ \mbox{\hyperlink{_program_8cs_a2f78352277081c620fd4cf92a5ce15e5}{builder}}.Services.AddDbContext<\mbox{\hyperlink{class_f_a_q_chat_bot_1_1_models_1_1_app_db_context}{AppDbContext}}>(options\ =>}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00014}00014\ \ \ \ \ options.UseSqlServer(\mbox{\hyperlink{_program_8cs_a2f78352277081c620fd4cf92a5ce15e5}{builder}}.Configuration.GetConnectionString(\textcolor{stringliteral}{"{}ConexaoBD"{}})));}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00015}\mbox{\hyperlink{_program_8cs_a32d7bc2afdb2ab1b8cd24332feeb0aec}{00015}}\ \mbox{\hyperlink{_program_8cs_a2f78352277081c620fd4cf92a5ce15e5}{builder}}.Services.AddHttpClient();}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00016}\mbox{\hyperlink{_program_8cs_aff388c27af0c0d0b452c115c1dde1e9e}{00016}}\ \mbox{\hyperlink{_program_8cs_a2f78352277081c620fd4cf92a5ce15e5}{builder}}.Services.AddScoped<\mbox{\hyperlink{interface_f_a_q_chat_bot_1_1_services_1_1_i_chat_service}{IChatService}},\ \mbox{\hyperlink{class_f_a_q_chat_bot_1_1_services_1_1_gemini_chat_service}{GeminiChatService}}>();}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00017}00017\ }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00018}00018\ \textcolor{comment}{//\ Criar\ a\ aplicação}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00019}\mbox{\hyperlink{_program_8cs_a7b225fcb720e4d5ed2bbf60e28a25e6d}{00019}}\ var\ \mbox{\hyperlink{_program_8cs_a7b225fcb720e4d5ed2bbf60e28a25e6d}{app}}\ =\ \mbox{\hyperlink{_program_8cs_a2f78352277081c620fd4cf92a5ce15e5}{builder}}.Build();}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00021}00021\ \textcolor{comment}{//\ Garantir\ que\ o\ banco\ de\ dados\ seja\ criado\ (LocalDB)}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00022}\mbox{\hyperlink{_program_8cs_a6664f596a178b8d68fddd8a8e79a57ce}{00022}}\ \textcolor{keyword}{using}\ (var\ \mbox{\hyperlink{_program_8cs_a6664f596a178b8d68fddd8a8e79a57ce}{scope}}\ =\ \mbox{\hyperlink{_program_8cs_a7b225fcb720e4d5ed2bbf60e28a25e6d}{app}}.Services.CreateScope())}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00023}00023\ \{}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00024}00024\ \ \ \ \ var\ db\ =\ \mbox{\hyperlink{_program_8cs_a6664f596a178b8d68fddd8a8e79a57ce}{scope}}.ServiceProvider.GetRequiredService<\mbox{\hyperlink{class_f_a_q_chat_bot_1_1_models_1_1_app_db_context}{AppDbContext}}>();}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00025}00025\ \ \ \ \ db.Database.Migrate();\ \textcolor{comment}{//\ cria\ ou\ atualiza\ o\ banco\ automaticamente}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00026}00026\ \}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00028}00028\ \textcolor{comment}{//\ Pipeline\ de\ middleware}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00029}00029\ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{_program_8cs_a7b225fcb720e4d5ed2bbf60e28a25e6d}{app}}.Environment.IsDevelopment())}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00030}00030\ \{}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00031}00031\ \ \ \ \ \mbox{\hyperlink{_program_8cs_a7b225fcb720e4d5ed2bbf60e28a25e6d}{app}}.UseExceptionHandler(\textcolor{stringliteral}{"{}/Home/Error"{}});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00032}00032\ \ \ \ \ \mbox{\hyperlink{_program_8cs_a7b225fcb720e4d5ed2bbf60e28a25e6d}{app}}.UseHsts();}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00033}00033\ \}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00035}00035\ \textcolor{comment}{//app.UseHttpsRedirection();}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00036}00036\ \mbox{\hyperlink{_program_8cs_a7b225fcb720e4d5ed2bbf60e28a25e6d}{app}}.UseStaticFiles();}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00037}00037\ }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00038}\mbox{\hyperlink{_program_8cs_a94c810d266751293a2d511a720a5625f}{00038}}\ \mbox{\hyperlink{_program_8cs_a7b225fcb720e4d5ed2bbf60e28a25e6d}{app}}.UseRouting();}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00039}\mbox{\hyperlink{_program_8cs_af6f72d752b2e73aa0292f74bd13237ab}{00039}}\ \mbox{\hyperlink{_program_8cs_a7b225fcb720e4d5ed2bbf60e28a25e6d}{app}}.UseAuthorization();}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00040}00040\ }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00041}00041\ \textcolor{comment}{//\ Rota\ padrão}}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00042}\mbox{\hyperlink{_program_8cs_aec500e125fbbfcd3d99a23db7de60be7}{00042}}\ \mbox{\hyperlink{_program_8cs_a7b225fcb720e4d5ed2bbf60e28a25e6d}{app}}.MapControllerRoute(}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00043}00043\ \ \ \ \ name:\ \textcolor{stringliteral}{"{}default"{}},}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00044}00044\ \ \ \ \ pattern:\ \textcolor{stringliteral}{"{}\{controller=Home\}/\{action=Index\}/\{id?\}"{}});}
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00045}00045\ }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00046}00046\ }
\DoxyCodeLine{\Hypertarget{_program_8cs_source_l00047}\mbox{\hyperlink{_program_8cs_aaa3dbf02e269c3ef7e8546d290c6b3dd}{00047}}\ \mbox{\hyperlink{_program_8cs_a7b225fcb720e4d5ed2bbf60e28a25e6d}{app}}.Run();}

\end{DoxyCode}
